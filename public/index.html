<!DOCTYPE html>
<html>
<body>
  <h2>Buy Price</h2>
  <div id="buy">Loading...</div>

  <h2>Sell Price</h2>
  <div id="sell">Loading...</div>

  <h3 id="updated"></h3>

  <script>
    async function loadGold() {
      try {
        const res = await fetch('/api/gold');
        const data = await res.json();

        if (!data.products) throw Error("Invalid data");

        document.getElementById("buy").innerText = data.products[0].sell;
        document.getElementById("sell").innerText = data.products[0].buy;
        document.getElementById("updated").innerText = "Updated: " + new Date().toLocaleString();

      } catch (e) {
        document.getElementById("buy").innerText = "Error";
        document.getElementById("sell").innerText = "Error";
      }
    }

    loadGold();
  </script>
</body>
</html>
